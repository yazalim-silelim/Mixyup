<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mixyup | Modern Video Platform</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #FF3E3E;
            --primary-light: #FF6B6B;
            --dark: #0F0F0F;
            --dark-light: #222222;
            --light: #FFFFFF;
            --gray: #F1F1F1;
            --gray-dark: #AAAAAA;
            --text-dark: #030303;
            --text-light: #F1F1F1;
            --shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }
        
        body {
            background-color: var(--dark);
            color: var(--text-light);
            transition: all 0.2s ease;
            overscroll-behavior: none;
        }
        
        /* Header Styles */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.8rem 1rem;
            position: sticky;
            top: 0;
            z-index: 100;
            background-color: var(--dark);
            box-shadow: var(--shadow);
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
        }
        
        .logo-icon {
            width: 28px;
            height: 28px;
            background-color: var(--primary);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        .logo h1 {
            font-size: 1.3rem;
            font-weight: 700;
            background: linear-gradient(to right, var(--primary), var(--primary-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .search-container {
            display: flex;
            align-items: center;
            flex: 1;
            max-width: 600px;
            margin: 0 1rem;
            position: relative;
        }
        
        .search-input {
            width: 100%;
            padding: 0.6rem 1rem;
            border-radius: 20px;
            border: 1px solid #333;
            background-color: var(--dark-light);
            color: var(--text-light);
            font-size: 1rem;
            padding-right: 40px;
        }
        
        .search-icon {
            position: absolute;
            right: 12px;
            font-size: 1rem;
            cursor: pointer;
            color: var(--gray-dark);
        }
        
        .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            background-color: var(--dark);
            border-radius: 0 0 12px 12px;
            box-shadow: var(--shadow);
            z-index: 10;
            max-height: 400px;
            overflow-y: auto;
            display: none;
        }
        
        .search-result-item {
            padding: 0.8rem 1rem;
            display: flex;
            align-items: center;
            cursor: pointer;
            border-bottom: 1px solid #333;
        }
        
        .search-result-item:hover {
            background-color: var(--dark-light);
        }
        
        .search-result-thumbnail {
            width: 60px;
            height: 40px;
            border-radius: 4px;
            margin-right: 1rem;
            object-fit: cover;
        }
        
        .search-result-info {
            flex: 1;
        }
        
        .search-result-title {
            font-size: 0.9rem;
            font-weight: 500;
            margin-bottom: 0.2rem;
            display: -webkit-box;
            -webkit-line-clamp: 1;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .search-result-channel {
            font-size: 0.8rem;
            color: var(--gray-dark);
        }
        
        .search-result-channel-item {
            padding: 0.8rem 1rem;
            display: flex;
            align-items: center;
            cursor: pointer;
            border-bottom: 1px solid #333;
        }
        
        .search-channel-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            margin-right: 1rem;
        }
        
        .search-channel-name {
            font-weight: 500;
        }
        
        .search-channel-subs {
            font-size: 0.8rem;
            color: var(--gray-dark);
        }
        
        .user-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .action-icon {
            font-size: 1.2rem;
            cursor: pointer;
        }
        
        /* Main Content */
        .container {
            padding: 1rem;
        }
        
        .section-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin: 1.5rem 0 1rem;
        }
        
        /* Category Chips */
        .category-chips {
            display: flex;
            overflow-x: auto;
            gap: 0.8rem;
            padding: 0.5rem 0;
            margin-bottom: 1rem;
            scrollbar-width: none;
        }
        
        .category-chips::-webkit-scrollbar {
            display: none;
        }
        
        .category-chip {
            background-color: var(--dark-light);
            color: var(--text-light);
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 16px;
            font-size: 0.9rem;
            cursor: pointer;
            white-space: nowrap;
            flex-shrink: 0;
            transition: all 0.2s;
        }
        
        .category-chip.active {
            background-color: var(--text-light);
            color: var(--dark);
        }
        
        /* Videos Grid */
        .videos-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.2rem;
            margin-top: 1rem;
        }
        
        .video-card {
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .video-card.hidden {
            display: none;
        }
        
        .video-card:hover {
            transform: scale(1.02);
        }
        
        .thumbnail-container {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%;
            background-color: var(--dark-light);
            border-radius: 12px;
            overflow: hidden;
        }
        
        .thumbnail {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .video-duration {
            position: absolute;
            bottom: 8px;
            right: 8px;
            background-color: rgba(0,0,0,0.8);
            color: white;
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-size: 0.8rem;
        }
        
        .watched-badge {
            position: absolute;
            top: 8px;
            left: 8px;
            background-color: var(--primary);
            color: white;
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-size: 0.8rem;
            display: none;
        }
        
        .video-info {
            display: flex;
            margin-top: 0.8rem;
        }
        
        .channel-icon {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: var(--dark-light);
            margin-right: 0.8rem;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-light);
            font-weight: bold;
        }
        
        .video-details {
            flex: 1;
            overflow: hidden;
        }
        
        .video-title {
            font-size: 1rem;
            font-weight: 500;
            margin-bottom: 0.3rem;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .channel-name {
            font-size: 0.9rem;
            color: var(--gray-dark);
            margin-bottom: 0.2rem;
            display: flex;
            align-items: center;
        }
        
        .follow-btn {
            background: none;
            border: none;
            color: var(--primary);
            font-size: 0.8rem;
            margin-left: 0.5rem;
            cursor: pointer;
            padding: 0.2rem 0;
        }
        
        .video-stats {
            font-size: 0.9rem;
            color: var(--gray-dark);
        }
        
        /* Video Player */
        .video-player-container {
            display: none;
            padding: 1rem;
        }
        
        .video-player {
            width: 100%;
            aspect-ratio: 16/9;
            background-color: black;
            border-radius: 12px;
            overflow: hidden;
        }
        
        .video-player iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
        
        .video-info-container {
            margin-top: 1rem;
        }
        
        .video-player-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 0.8rem;
        }
        
        .video-actions {
            display: flex;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .action-button {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: none;
            border: none;
            color: var(--text-light);
            cursor: pointer;
        }
        
        .action-button.active {
            color: var(--primary);
        }
        
        .channel-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
            border-top: 1px solid #333;
            border-bottom: 1px solid #333;
        }
        
        .channel-details {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .channel-avatar {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background-color: var(--dark-light);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-light);
            font-weight: bold;
            flex-shrink: 0;
            cursor: pointer;
        }
        
        .channel-meta {
            overflow: hidden;
        }
        
        .channel-name {
            font-weight: 600;
            color: var(--text-light);
            margin-bottom: 0.2rem;
        }
        
        .subscriber-count {
            font-size: 0.9rem;
            color: var(--gray-dark);
        }
        
        .subscribe-btn {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 0.6rem 1.2rem;
            border-radius: 20px;
            font-weight: 600;
            cursor: pointer;
            flex-shrink: 0;
        }
        
        .subscribe-btn.following {
            background-color: var(--gray-dark);
        }
        
        .video-description {
            background-color: var(--dark-light);
            padding: 1rem;
            border-radius: 12px;
            margin-top: 1.5rem;
            font-size: 0.95rem;
            line-height: 1.5;
            white-space: pre-line;
        }
        
        /* Upload Form */
        .upload-form-container {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .upload-form {
            background-color: var(--dark);
            width: 100%;
            max-width: 500px;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: var(--shadow);
        }
        
        .form-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .form-title {
            font-size: 1.3rem;
            font-weight: 600;
        }
        
        .close-form {
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        .form-group {
            margin-bottom: 1.2rem;
        }
        
        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        
        .form-input {
            width: 100%;
            padding: 0.8rem;
            border-radius: 8px;
            border: 1px solid #333;
            background-color: var(--dark-light);
            color: var(--text-light);
            font-size: 1rem;
        }
        
        .form-textarea {
            width: 100%;
            padding: 0.8rem;
            border-radius: 8px;
            border: 1px solid #333;
            background-color: var(--dark-light);
            color: var(--text-light);
            font-size: 1rem;
            resize: vertical;
            min-height: 100px;
        }
        
        .submit-btn {
            width: 100%;
            padding: 0.8rem;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            margin-top: 1rem;
        }
        
        /* Download App Modal */
        .download-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .download-content {
            background-color: var(--dark);
            width: 100%;
            max-width: 400px;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: var(--shadow);
            text-align: center;
        }
        
        .download-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }
        
        .download-text {
            margin-bottom: 1.5rem;
            color: var(--gray-dark);
        }
        
        .download-btn {
            display: inline-block;
            padding: 0.8rem 1.5rem;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            margin-bottom: 1rem;
        }
        
        .close-download {
            display: inline-block;
            padding: 0.5rem 1rem;
            background-color: var(--dark-light);
            color: var(--text-light);
            border: none;
            border-radius: 8px;
            font-size: 0.9rem;
            cursor: pointer;
        }
        
        /* Notifications */
        .notification {
            position: fixed;
            bottom: 1rem;
            left: 1rem;
            background-color: var(--primary);
            color: white;
            padding: 1rem;
            border-radius: 8px;
            box-shadow: var(--shadow);
            z-index: 1000;
            max-width: 300px;
            display: none;
        }
        
        /* Loading */
        .loading {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .videos-grid {
                grid-template-columns: 1fr;
            }
            
            .video-actions {
                gap: 1rem;
            }
            
            .search-container {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                width: 100%;
                padding: 0.5rem 1rem;
                background-color: var(--dark);
                z-index: 100;
            }
            
            .search-container.active {
                display: flex;
            }
            
            .mobile-search-icon {
                display: block;
            }
        }
        
        @media (min-width: 769px) {
            .mobile-search-icon {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="logo">
            <div class="logo-icon">M</div>
            <h1>Mixyup</h1>
        </div>
        
        <div class="search-container" id="searchContainer">
            <input type="text" class="search-input" id="searchInput" placeholder="Ara...">
            <div class="search-icon" id="searchIcon">🔍</div>
            <div class="search-results" id="searchResults"></div>
        </div>
        
        <div class="user-actions">
            <div class="action-icon mobile-search-icon" id="mobileSearchBtn">🔍</div>
            <div class="action-icon" id="downloadAppBtn" title="Uygulamayı İndir">📱</div>
            <div class="action-icon" id="uploadBtn">📤</div>
            <div class="action-icon" id="notificationsBtn">🔔</div>
        </div>
    </header>
    
    <!-- Main Content -->
    <div class="container">
        <div class="category-chips">
            <button class="category-chip active" data-category="all">Tümü</button>
            <button class="category-chip" data-category="film">Film</button>
            <button class="category-chip" data-category="music">Müzik</button>
            <button class="category-chip" data-category="tech">Teknoloji</button>
            <button class="category-chip" data-category="education">Eğitim</button>
            <button class="category-chip" data-category="entertainment">Eğlence</button>
        </div>
        
        <div class="videos-grid" id="videosGrid">
            <!-- Videos will be loaded here -->
        </div>
    </div>
    
    <!-- Video Player -->
    <div class="video-player-container" id="videoPlayerPage">
        <div class="video-player">
            <iframe id="youtubePlayer" frameborder="0" allowfullscreen></iframe>
        </div>
        
        <div class="video-info-container">
            <h1 class="video-player-title" id="videoPlayerTitle"></h1>
            
            <div class="video-actions">
                <button class="action-button" id="likeBtn">
                    <span>👍</span>
                    <span id="likeCount">0</span>
                </button>
                <button class="action-button" id="dislikeBtn">
                    <span>👎</span>
                    <span id="dislikeCount">0</span>
                </button>
                <button class="action-button" id="shareBtn">
                    <span>↗️</span>
                    <span>Paylaş</span>
                </button>
                <button class="action-button" id="saveBtn">
                    <span>➕</span>
                    <span>Kaydet</span>
                </button>
            </div>
            
            <div class="channel-info">
                <div class="channel-details" id="channelDetails">
                    <div class="channel-avatar" id="channelAvatar"></div>
                    <div class="channel-meta">
                        <div class="channel-name" id="channelName"></div>
                        <div class="subscriber-count" id="subscriberCount"></div>
                    </div>
                </div>
                <button class="subscribe-btn" id="subscribeBtn">Takip Et</button>
            </div>
            
            <div class="video-description" id="videoDescription"></div>
        </div>
    </div>
    
    <!-- Upload Form -->
    <div class="upload-form-container" id="uploadFormContainer">
        <div class="upload-form">
            <div class="form-header">
                <div class="form-title">Kanal Oluştur ve Video Paylaş</div>
                <div class="close-form" id="closeUploadForm">&times;</div>
            </div>
            
            <form id="uploadForm">
                <div class="form-group">
                    <label for="videoLink" class="form-label">YouTube Video Linki</label>
                    <input type="url" id="videoLink" class="form-input" placeholder="https://www.youtube.com/watch?v=..." required>
                </div>
                
                <div class="form-group">
                    <label for="videoTitle" class="form-label">Video Başlığı</label>
                    <input type="text" id="videoTitle" class="form-input" placeholder="Video başlığını girin" required>
                </div>
                
                <div class="form-group">
                    <label for="videoDescription" class="form-label">Açıklama</label>
                    <textarea id="videoDescription" class="form-textarea" placeholder="Video açıklamasını girin"></textarea>
                </div>
                
                <div class="form-group">
                    <label for="videoCategory" class="form-label">Kategori</label>
                    <select id="videoCategory" class="form-input" required>
                        <option value="music">Müzik</option>
                        <option value="tech">Teknoloji</option>
                        <option value="education">Eğitim</option>
                        <option value="entertainment">Eğlence</option>
                    </select>
                </div>
                
                <button type="submit" class="submit-btn">Gönder</button>
            </form>
        </div>
    </div>
    
    <!-- Download App Modal -->
    <div class="download-modal" id="downloadModal">
        <div class="download-content">
            <h2 class="download-title">Mixyup Uygulamasını İndir</h2>
            <p class="download-text">Mixyup'un tüm özelliklerine mobil cihazınızdan erişmek için uygulamayı indirin.</p>
            <a href="https://github.com/yazalim-silelim/Mixyup/releases/download/Mixyup_V1/MixyupV1.apk" class="download-btn">Uygulamayı İndir</a>
            <button class="close-download" id="closeDownload">Kapat</button>
        </div>
    </div>
    
    <!-- Notification -->
    <div class="notification" id="notification">
        <div id="notificationText"></div>
    </div>
    
    <!-- Loading -->
    <div class="loading" id="loading">
        <div class="spinner"></div>
    </div>
    
    <script>
        // Video Database with channels
        const videos = [
            {
                id: "pjbNlFMolqU",
                title: "Yazalım Silelim - tarayıcı",
                channel: "Mixyup",
                subscribers: "1.2M abone",
                description: "Yazalım Silelim şimdi Mixyup'ta!\n\n#YazalımSilelim #Mixyup #Browser",
                category: "tech",
                duration: "0:22",
                views: "25M görüntüleme",
                uploadDate: "1 ay önce"
            },
            {
                id: "ESUBmQiFGQM",
                title: "Turkish Instrumental Music",
                channel: "YouTube Audio Library",
                subscribers: "–– abone",
                description: "Lovely sad Türk enstrümantal müzik, içerik projeleri için uygun.",
                category: "music",
                duration: "1:00:35",
                views: "––",
                uploadDate: "7.4 yıl önce"
            },
            {
                id: "dv-NTwBeuoA",
                title: "Beautiful [Turkish Music No Copyright]",
                channel: "YouTube Audio Library",
                subscribers: "–– abone",
                description: "Turkish background music instrumental, no copyright.",
                category: "music",
                duration: "04:22",
                views: "––",
                uploadDate: "3.2 yıl önce"
            },
            {
                id: "F4EPqYD6Ltw",
                title: "New Lovely Sad Turkish Instrumental",
                channel: "Turkish Instrumental Music",
                subscribers: "–– abone",
                description: "Romantik ve duygusal enstrümantal parça.",
                category: "music",
                duration: "52:08",
                views: "––",
                uploadDate: "7.4 yıl önce"
            },
            {
                id: "ucaRH6Yd5b0",
                title: "Turkish Song — No Copyright Music",
                channel: "Pexels Audio",
                subscribers: "–– abone",
                description: "Background Turkish song, CC‑lisanslı.",
                category: "music",
                duration: "03:37",
                views: "––",
                uploadDate: "3.1 yıl önce"
            },
            {
                id: "Yhuyp2PzBJE",
                title: "Turkish - Uplifting Eastern Background Music For Videos & Travel",
                channel: "AShamaluevMusic",
                subscribers: "–– abone",
                description: "Videolar için neşeli, etnik tınılı altyapı müziği.",
                category: "music",
                duration: "02:36",
                views: "––",
                uploadDate: "4.6 yıl önce"
            },
            {
                id: "sdUUx5FdySs",
                title: "Kiwi!",
                channel: "Dony Permedi",
                subscribers: "–– abone",
                description: "Tüyler ürpertici sahneler arasında duygusal bir hikayeye sahip, viral CG kısa film.",
                category: "animation",
                duration: "03:10",
                views: "49M+ görüntüleme",
                uploadDate: "2006"
            },
            {
                id: "YzOCzZ3FfeA",
                title: "Two The Flowers || Short Film",
                channel: "Unknown",
                subscribers: "–– abone",
                description: "Yeni ve etkileyici dramatik kısa film.",
                category: "short film",
                duration: "12:23",
                views: "––",
                uploadDate: "5 ay önce"
            },
            {
                id: "1iGo2LZVd4g",
                title: "Fade (Alan Walker – Instrumental)",
                channel: "NoCopyrightSounds",
                subscribers: "34M+ abone",
                description: "Elektronik enstrümantal; enerji dolu videolarda arka plan için popüler tercih.",
                category: "music",
                duration: "39:31",
                views: "430M+ görüntüleme",
                uploadDate: "2014"
            },
            {
                id: "HC3IcsvbxYU",
                title: "How To FIND And USE Creative Commons Videos",
                channel: "Hacker Developer",
                subscribers: "150K abone",
                description: "Creative Commons videolar nasıl bulunur ve içeriklerinizde nasıl kullanılır anlatılıyor.",
                category: "education",
                duration: "5:51",
                views: "500K görüntüleme",
                uploadDate: "6 yıl önce"
            },
            {
                id: "WMv7w4ObLoc",
                title: "Last Shot | Creative Common License | Kids | Animated",
                channel: "Aemilia Widodo",
                subscribers: "50K abone",
                description: "Creative Commons lisanslı, çocuklar için animasyonlu kısa film.",
                category: "film",
                duration: "02:28",
                views: "200K görüntüleme",
                uploadDate: "4.4 yıl önce"
            },
            {
                id: "ZWqVD-cTPQI",
                title: "Opus Clip AI Tutorial: Create Viral Shorts In ONE Click",
                channel: "Opus Clip",
                subscribers: "80K abone",
                description: "Ücretsiz CC videolarla viral Shorts'lar otomatik hazırlatan araç tanıtımı.",
                category: "tech",
                duration: "08:52",
                views: "150K görüntüleme",
                uploadDate: "2 gün önce"
            },
            {
                id: "FXWLd2f4ICE",
                title: "Licensing Your Work with Creative Commons",
                channel: "Research University",
                subscribers: "120K abone",
                description: "Creative Commons lisanslama yöntemleri ve kaynaklar hakkında bilgilendirme.",
                category: "education",
                duration: "39:46",
                views: "90K görüntüleme",
                uploadDate: "2.2 yıl önce"
            },
            {
                id: "_VREXdEvhLE",
                title: "16 Viral Shorts Ideas That Feel ILLEGAL To Know",
                channel: "ShortsGenius",
                subscribers: "200K abone",
                description: "Creative Commons videolarla yapabileceğin viral Shorts fikirleri.",
                category: "inspiration",
                duration: "19:10",
                views: "250K görüntüleme",
                uploadDate: "1.4 yıl önce"
            },
            {
                id: "CRWyXlUbkHE",
                title: "animasyon çizgi film Bahar",
                channel: "Blender Animation Studio",
                subscribers: "200K+ abone",
                description: "Blender tarafından hazırlanmış kısa animasyon; Creative Commons lisanslı.",
                category: "film",
                duration: "07:46",
                views: "50K+ görüntüleme",
                uploadDate: "5.2 yıl önce"
            },
            {
                id: "hgehqVVScuk",
                title: "KISA FİLM - BANK",
                channel: "Context Türkçe",
                subscribers: "71K abone",
                description: "Kısa film 'BANK', CC BY 4.0 lisansıyla paylaşılmıştır.",
                category: "film",
                duration: "7:50",
                views: "71K görüntüleme",
                uploadDate: "4.7 yıl önce"
            },
            {
                id: "huqBz7K8REQ",
                title: "YERDEKİLER - Kısa Film",
                channel: "BİR PAKET MERHAMET",
                subscribers: "– abone",
                description: "Ödüllü Türk kısa filmi, telif ücretsiz paylaşılmış.",
                category: "film",
                duration: "11:15",
                views: "50K+ görüntüleme",
                uploadDate: "8.4 yıl önce"
            },
            {
                id: "905F4Z8Kc5c",
                title: "Stay at Home - Short Film",
                channel: "BBC News Türkçe",
                subscribers: "455K abone",
                description: "Koronavirüs günlerinde İstanbul'da geçen kısa film; CC BY 3.0 lisanslı.",
                category: "film",
                duration: "04:40",
                views: "455K görüntüleme",
                uploadDate: "5.3 yıl önce"
            },
            {
                id: "pzBi1nwDn8U",
                title: "Survive 100 Days Trapped In A Private Jet, Keep It",
                channel: "MrBeast",
                subscribers: "20M abone",
                description: "MrBeast challenges his pilot Armando to survive 100 days trapped inside a private jet. The winner gets to keep the jet worth $2.5 million!",
                category: "entertainment",
                duration: "33:03",
                views: "45M görüntüleme",
                uploadDate: "1 gün önce"
            },
            {
                id: "LeYsRMZFUq0",
                title: "İnsanlara 1 dakikada harcamaları için 1.000.000 Dolar verdim",
                channel: "MrBeast",
                subscribers: "20M abone",
                description: "MrBeast surprises strangers with $1,000,000 in cash giveaways and life-changing challenges.",
                category: "entertainment",
                duration: "14:18",
                views: "60M görüntüleme",
                uploadDate: "1 ay önce"
            },
            {
                id: "E60YUgmaRJo",
                title: "Erik Dalı (Yok Böyle Erik Dalı Oyunu)",
                channel: "Bulent dellal",
                subscribers: "645 abone",
                description: "Bu videoda açıklama mevcut değil.",
                category: "music",
                duration: "03:16",
                views: "409K görüntüleme",
                uploadDate: "8 yıl önce"
            },
            {
                id: "PyJWjVkzps8",
                title: "Çikolatalı Truff Tarifi |Nasıl Yapılır?",
                channel: "Nefis yemek tarifleri",
                subscribers: "645 abone",
                description: "Az malzemeyle, kısa sürede hem şık hem de lezzetli bir tatlı hazırlamak ister misiniz? O zaman sizi mutfağa alalım çünkü sırada enfes bir truff tarifi var! Özellikle çikolatalı truff tarifi arayanların bayılacağı bu tatlı, görüntüsüyle göz doldururken lezzetiyle de herkesi kendine hayran bırakıyor. 'Tatlı krizine çözüm lazım ama uğraşmak istemiyorum' diyorsanız, bu kolay truff tarifi tam size göre. Üstelik tarifte fırın yok, zahmet yok! Evde kalan bisküvilerle yapabileceğiniz bisküvili truff tarifi, ekonomik oluşuyla da gönülleri fethediyor. Şimdi mutfağa geçme zamanı; hem kolay hem de etkileyici bir sunum için en güzel truff tarifi ile tanışın!",
                category: "",
                duration: "01:42",
                views: "101K görüntüleme",
                uploadDate: "2 ay önce"
            }
        ];
        
        // Unique channels data
        const channels = [
            {
                name: "Mixyup",
                subscribers: "1.2M abone",
                description: "Teknoloji ve yazılım içerikleri",
                avatar: "M"
            },
            {
                name: "MRBeast",
                subscribers: "416M abone",
                descreption: "challenge yapmaktan ve zenginliği ile tanınır",
                avatar: "M"
            },
            {
                name: "PSY",
                subscribers: "18.2M abone",
                description: "PSY kanalı",
                avatar: "P"
            },
            {
                name: "Kodlama Dünyası",
                subscribers: "750K abone",
                description: "Programlama ve yazılım eğitimleri",
                avatar: "K"
            },
            {
                name: "YouTube Audio Library",
                subscribers: "–– abone",
                description: "YouTube'un resmi telifsiz müzik kütüphanesi",
                avatar: "Y"
            },
            {
                name: "Turkish Instrumental Music",
                subscribers: "–– abone",
                description: "Türk enstrümantal müzikleri",
                avatar: "T"
            },
            {
                name: "AShamaluevMusic",
                subscribers: "–– abone",
                description: "Royalty free müzikler",
                avatar: "A"
            },
            {
                name: "Snapmuse",
                subscribers: "–– abone",
                description: "Telifsiz müzikler",
                avatar: "S"
            },
            {
                name: "Dony Permedi",
                subscribers: "–– abone",
                description: "Animasyon ve kısa filmler",
                avatar: "D"
            },
            {
                name: "NoCopyrightSounds",
                subscribers: "34M+ abone",
                description: "Telifsiz elektronik müzikler",
                avatar: "N"
            }
        ];
        
        // Current Video and Category
        let currentVideo = null;
        let currentCategory = "all";
        let searchQuery = "";
        
        // DOM Elements
        const videosGrid = document.getElementById('videosGrid');
        const videoPlayerPage = document.getElementById('videoPlayerPage');
        const youtubePlayer = document.getElementById('youtubePlayer');
        const videoPlayerTitle = document.getElementById('videoPlayerTitle');
        const channelAvatar = document.getElementById('channelAvatar');
        const channelName = document.getElementById('channelName');
        const subscriberCount = document.getElementById('subscriberCount');
        const videoDescription = document.getElementById('videoDescription');
        const likeBtn = document.getElementById('likeBtn');
        const dislikeBtn = document.getElementById('dislikeBtn');
        const likeCount = document.getElementById('likeCount');
        const dislikeCount = document.getElementById('dislikeCount');
        const subscribeBtn = document.getElementById('subscribeBtn');
        const shareBtn = document.getElementById('shareBtn');
        const saveBtn = document.getElementById('saveBtn');
        const channelDetails = document.getElementById('channelDetails');
        const uploadFormContainer = document.getElementById('uploadFormContainer');
        const uploadForm = document.getElementById('uploadForm');
        const notification = document.getElementById('notification');
        const notificationText = document.getElementById('notificationText');
        const loading = document.getElementById('loading');
        const categoryChips = document.querySelectorAll('.category-chip');
        const searchInput = document.getElementById('searchInput');
        const searchResults = document.getElementById('searchResults');
        const searchIcon = document.getElementById('searchIcon');
        const mobileSearchBtn = document.getElementById('mobileSearchBtn');
        const searchContainer = document.getElementById('searchContainer');
        const downloadAppBtn = document.getElementById('downloadAppBtn');
        const downloadModal = document.getElementById('downloadModal');
        const closeDownload = document.getElementById('closeDownload');
        
        // LocalStorage Functions
        function getWatchedVideos() {
            return JSON.parse(localStorage.getItem('watchedVideos')) || [];
        }
        
        function setWatchedVideo(videoId) {
            const watchedVideos = getWatchedVideos();
            if (!watchedVideos.includes(videoId)) {
                watchedVideos.push(videoId);
                localStorage.setItem('watchedVideos', JSON.stringify(watchedVideos));
            }
        }
        
        function getLikes() {
            return JSON.parse(localStorage.getItem('videoLikes')) || {};
        }
        
        function setLike(videoId) {
            const likes = getLikes();
            likes[videoId] = true;
            localStorage.setItem('videoLikes', JSON.stringify(likes));
        }
        
        function removeLike(videoId) {
            const likes = getLikes();
            delete likes[videoId];
            localStorage.setItem('videoLikes', JSON.stringify(likes));
        }
        
        function getDislikes() {
            return JSON.parse(localStorage.getItem('videoDislikes')) || {};
        }
        
        function setDislike(videoId) {
            const dislikes = getDislikes();
            dislikes[videoId] = true;
            localStorage.setItem('videoDislikes', JSON.stringify(dislikes));
        }
        
        function removeDislike(videoId) {
            const dislikes = getDislikes();
            delete dislikes[videoId];
            localStorage.setItem('videoDislikes', JSON.stringify(dislikes));
        }
        
        function getFollowedChannels() {
            return JSON.parse(localStorage.getItem('followedChannels')) || [];
        }
        
        function toggleFollowChannel(channel) {
            const followedChannels = getFollowedChannels();
            const index = followedChannels.indexOf(channel);
            
            if (index === -1) {
                followedChannels.push(channel);
                showNotification(`${channel} kanalını takip etmeye başladınız!`);
                
                // Request notification permission
                if (Notification.permission !== 'granted') {
                    Notification.requestPermission();
                }
            } else {
                followedChannels.splice(index, 1);
                showNotification(`${channel} kanalını takip etmeyi bıraktınız.`);
            }
            
            localStorage.setItem('followedChannels', JSON.stringify(followedChannels));
            return index === -1; // Returns true if followed, false if unfollowed
        }
        
        function isChannelFollowed(channel) {
            return getFollowedChannels().includes(channel);
        }
        
        function getSavedVideos() {
            return JSON.parse(localStorage.getItem('savedVideos')) || [];
        }
        
        function toggleSaveVideo(videoId) {
            const savedVideos = getSavedVideos();
            const index = savedVideos.indexOf(videoId);
            
            if (index === -1) {
                savedVideos.push(videoId);
                showNotification("Videoyu kaydettiniz!");
            } else {
                savedVideos.splice(index, 1);
                showNotification("Videoyu kaydedilenlerden çıkardınız.");
            }
            
            localStorage.setItem('savedVideos', JSON.stringify(savedVideos));
            return index === -1;
        }
        
        function isVideoSaved(videoId) {
            return getSavedVideos().includes(videoId);
        }
        
        function getSearchHistory() {
            return JSON.parse(localStorage.getItem('searchHistory')) || [];
        }
        
        function addToSearchHistory(query) {
            if (!query.trim()) return;
            
            const searchHistory = getSearchHistory();
            const index = searchHistory.indexOf(query);
            
            if (index !== -1) {
                searchHistory.splice(index, 1);
            }
            
            searchHistory.unshift(query);
            
            if (searchHistory.length > 10) {
                searchHistory.pop();
            }
            
            localStorage.setItem('searchHistory', JSON.stringify(searchHistory));
        }
        
        // UI Functions
        function showNotification(message) {
            notificationText.textContent = message;
            notification.style.display = 'block';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
            
            // Show browser notification if permission granted
            if (Notification.permission === 'granted') {
                new Notification('Mixyup', {
                    body: message
                });
            }
        }
        
        function showLoading() {
            loading.style.display = 'flex';
        }
        
        function hideLoading() {
            loading.style.display = 'none';
        }
        
        function performSearch(query) {
            if (!query.trim()) {
                searchResults.style.display = 'none';
                return;
            }
            
            addToSearchHistory(query);
            searchQuery = query.toLowerCase();
            
            // Show results in dropdown
            const matchingVideos = videos.filter(video => 
                video.title.toLowerCase().includes(searchQuery) || 
                video.channel.toLowerCase().includes(searchQuery))
                .slice(0, 5);
            
            const matchingChannels = channels.filter(channel => 
                channel.name.toLowerCase().includes(searchQuery))
                .slice(0, 3);
            
            searchResults.innerHTML = '';
            
            if (matchingVideos.length > 0 || matchingChannels.length > 0) {
                if (matchingVideos.length > 0) {
                    matchingVideos.forEach(video => {
                        const resultItem = document.createElement('div');
                        resultItem.className = 'search-result-item';
                        resultItem.innerHTML = `
                            <img class="search-result-thumbnail" src="https://i.ytimg.com/vi/${video.id}/hqdefault.jpg" alt="${video.title}">
                            <div class="search-result-info">
                                <div class="search-result-title">${video.title}</div>
                                <div class="search-result-channel">${video.channel}</div>
                            </div>
                        `;
                        
                        resultItem.addEventListener('click', () => {
                            showVideo(video.id, video.channel);
                            searchResults.style.display = 'none';
                        });
                        
                        searchResults.appendChild(resultItem);
                    });
                }
                
                if (matchingChannels.length > 0) {
                    matchingChannels.forEach(channel => {
                        const channelItem = document.createElement('div');
                        channelItem.className = 'search-result-channel-item';
                        channelItem.innerHTML = `
                            <div class="search-channel-avatar">${channel.avatar}</div>
                            <div>
                                <div class="search-channel-name">${channel.name}</div>
                                <div class="search-channel-subs">${channel.subscribers}</div>
                            </div>
                        `;
                        
                        channelItem.addEventListener('click', () => {
                            // Filter videos by this channel
                            const channelVideos = videos.filter(v => v.channel === channel.name);
                            
                            currentCategory = "all";
                            searchQuery = "";
                            searchInput.value = "";
                            searchResults.style.display = "none";
                            
                            document.querySelectorAll('.category-chip').forEach(chip => chip.classList.remove('active'));
                            document.querySelector('.category-chip[data-category="all"]').classList.add('active');
                            
                            renderVideos(channelVideos);
                        });
                        
                        searchResults.appendChild(channelItem);
                    });
                }
                
                // Add search history
                const searchHistory = getSearchHistory();
                if (searchHistory.length > 0) {
                    const historyHeader = document.createElement('div');
                    historyHeader.className = 'search-result-item';
                    historyHeader.style.fontSize = '0.8rem';
                    historyHeader.style.color = 'var(--gray-dark)';
                    historyHeader.textContent = 'Son Aramalar';
                    searchResults.appendChild(historyHeader);
                    
                    searchHistory.forEach(item => {
                        const historyItem = document.createElement('div');
                        historyItem.className = 'search-result-item';
                        historyItem.innerHTML = `
                            <div style="margin-right: 12px;">🔍</div>
                            <div>${item}</div>
                        `;
                        
                        historyItem.addEventListener('click', () => {
                            searchInput.value = item;
                            performSearch(item);
                        });
                        
                        searchResults.appendChild(historyItem);
                    });
                }
                
                searchResults.style.display = 'block';
            } else {
                const noResults = document.createElement('div');
                noResults.className = 'search-result-item';
                noResults.textContent = 'Sonuç bulunamadı';
                searchResults.appendChild(noResults);
                searchResults.style.display = 'block';
            }
        }
        
        function renderVideos(videosToRender = videos) {
            videosGrid.innerHTML = '';
            
            const watchedVideos = getWatchedVideos();
            const likes = getLikes();
            const dislikes = getDislikes();
            
            // Filter videos based on search query
            let filteredVideos = [...videosToRender];
            
            if (searchQuery) {
                filteredVideos = filteredVideos.filter(video => 
                    video.title.toLowerCase().includes(searchQuery) || 
                    video.channel.toLowerCase().includes(searchQuery));
            }
            
            // Filter by category
            if (currentCategory !== "all") {
                filteredVideos = filteredVideos.filter(video => video.category === currentCategory);
            }
            
            // Skip disliked videos unless we're showing all
            filteredVideos = filteredVideos.filter(video => !dislikes[video.id]);
            
            filteredVideos.forEach(video => {
                const isWatched = watchedVideos.includes(video.id);
                const channelInitial = video.channel.charAt(0);
                const isFollowed = isChannelFollowed(video.channel);
                const isSaved = isVideoSaved(video.id);
                
                const videoCard = document.createElement('div');
                videoCard.className = 'video-card';
                videoCard.dataset.videoId = video.id;
                videoCard.dataset.channel = video.channel;
                videoCard.dataset.category = video.category;
                
                videoCard.innerHTML = `
                    <div class="thumbnail-container">
                        <img class="thumbnail" src="https://i.ytimg.com/vi/${video.id}/hqdefault.jpg" loading="lazy" alt="${video.title}">
                        <span class="video-duration">${video.duration}</span>
                        <span class="watched-badge" style="display: ${isWatched ? 'block' : 'none'}">İzlendi</span>
                    </div>
                    <div class="video-info">
                        <div class="channel-icon">${channelInitial}</div>
                        <div class="video-details">
                            <h3 class="video-title">${video.title}</h3>
                            <div class="channel-name">
                                ${video.channel}
                                <button class="follow-btn" data-channel="${video.channel}">
                                    ${isFollowed ? 'Takipte' : 'Takip Et'}
                                </button>
                            </div>
                            <div class="video-stats">${video.views} • ${video.uploadDate}</div>
                        </div>
                    </div>
                `;
                
                videosGrid.appendChild(videoCard);
            });
            
            // Add event listeners
            document.querySelectorAll('.video-card').forEach(card => {
                card.addEventListener('click', () => {
                    const videoId = card.dataset.videoId;
                    const channel = card.dataset.channel;
                    showVideo(videoId, channel);
                });
            });
            
            document.querySelectorAll('.follow-btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const channel = this.dataset.channel;
                    const isFollowing = toggleFollowChannel(channel);
                    this.textContent = isFollowing ? 'Takipte' : 'Takip Et';
                    
                    // Update subscribe button if we're on that channel's video
                    if (currentVideo && currentVideo.channel === channel) {
                        subscribeBtn.textContent = isFollowing ? 'Takipte' : 'Takip Et';
                        subscribeBtn.classList.toggle('following', isFollowing);
                    }
                });
            });
        }
        
        function showVideo(videoId, channel) {
            const video = videos.find(v => v.id === videoId);
            if (!video) return;
            
            currentVideo = video;
            
            // Show video player
            document.querySelector('.container').style.display = 'none';
            videoPlayerPage.style.display = 'block';
            
            // Set video content
            youtubePlayer.src = `https://www.youtube.com/embed/${videoId}?autoplay=1`;
            videoPlayerTitle.textContent = video.title;
            channelAvatar.textContent = video.channel.charAt(0);
            channelName.textContent = video.channel;
            subscriberCount.textContent = video.subscribers;
            videoDescription.textContent = video.description;
            
            // Update like/dislike buttons
            updateLikeDislikeButtons();
            
            // Update subscribe button
            subscribeBtn.textContent = isChannelFollowed(video.channel) ? 'Takipte' : 'Takip Et';
            subscribeBtn.classList.toggle('following', isChannelFollowed(video.channel));
            
            // Update save button
            saveBtn.innerHTML = isVideoSaved(video.id) ? 
                `<span>✔️</span><span>Kaydedildi</span>` : 
                `<span>➕</span><span>Kaydet</span>`;
            
            // Mark as watched
            setWatchedVideo(videoId);
            
            // Update watched badges
            document.querySelectorAll('.watched-badge').forEach(badge => {
                badge.style.display = 'none';
            });
            
            const currentCard = document.querySelector(`.video-card[data-video-id="${videoId}"]`);
            if (currentCard) {
                const badge = currentCard.querySelector('.watched-badge');
                if (badge) badge.style.display = 'block';
            }
            
            // Scroll to top
            window.scrollTo(0, 0);
        }
        
        function hideVideo() {
            document.querySelector('.container').style.display = 'block';
            videoPlayerPage.style.display = 'none';
            youtubePlayer.src = '';
        }
        
        function updateLikeDislikeButtons() {
            if (!currentVideo) return;
            
            const likes = getLikes();
            const dislikes = getDislikes();
            
            likeBtn.classList.toggle('active', likes[currentVideo.id]);
            dislikeBtn.classList.toggle('active', dislikes[currentVideo.id]);
            
            // Simple count simulation
            likeCount.textContent = likes[currentVideo.id] ? '1' : '0';
            dislikeCount.textContent = dislikes[currentVideo.id] ? '1' : '0';
        }
        
        function sendVideoByEmail(formData) {
            const subject = "Mixyup - Yeni Video Paylaşımı";
            const body = `Yeni bir video paylaşmak istiyorum:\n\n` +
                         `Başlık: ${formData.title}\n` +
                         `YouTube Linki: ${formData.link}\n` +
                         `Kategori: ${formData.category}\n` +
                         `Açıklama: ${formData.description}\n\n` +
                         `Teşekkürler!`;
            
            const mailtoLink = `mailto:geniskapisirketi@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
            
            // For mobile devices
            if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                alert("Video paylaşım isteğiniz hazırlandı! E-posta uygulamanız açılacak. Eğer açılmazsa, lütfen geniskapisirketi@gmail.com adresine yukarıdaki bilgilerle e-posta gönderin.");
            }
            
            window.location.href = mailtoLink;
        }
        
        // Event Listeners
        likeBtn.addEventListener('click', () => {
            if (!currentVideo) return;
            
            const likes = getLikes();
            const dislikes = getDislikes();
            
            if (likes[currentVideo.id]) {
                removeLike(currentVideo.id);
            } else {
                setLike(currentVideo.id);
                if (dislikes[currentVideo.id]) {
                    removeDislike(currentVideo.id);
                }
            }
            
            updateLikeDislikeButtons();
            renderVideos(); // Re-render to potentially hide disliked videos
        });
        
        dislikeBtn.addEventListener('click', () => {
            if (!currentVideo) return;
            
            const likes = getLikes();
            const dislikes = getDislikes();
            
            if (dislikes[currentVideo.id]) {
                removeDislike(currentVideo.id);
            } else {
                setDislike(currentVideo.id);
                if (likes[currentVideo.id]) {
                    removeLike(currentVideo.id);
                }
            }
            
            updateLikeDislikeButtons();
            renderVideos(); // Re-render to hide this video if disliked
        });
        
        subscribeBtn.addEventListener('click', () => {
            if (!currentVideo) return;
            
            const isFollowing = toggleFollowChannel(currentVideo.channel);
            subscribeBtn.textContent = isFollowing ? 'Takipte' : 'Takip Et';
            subscribeBtn.classList.toggle('following', isFollowing);
            
            // Update follow buttons in video cards
            document.querySelectorAll('.follow-btn').forEach(btn => {
                if (btn.dataset.channel === currentVideo.channel) {
                    btn.textContent = isFollowing ? 'Takipte' : 'Takip Et';
                }
            });
        });
        
        saveBtn.addEventListener('click', () => {
            if (!currentVideo) return;
            
            const isSaved = toggleSaveVideo(currentVideo.id);
            saveBtn.innerHTML = isSaved ? 
                `<span>✔️</span><span>Kaydedildi</span>` : 
                `<span>➕</span><span>Kaydet</span>`;
        });
        
        shareBtn.addEventListener('click', () => {
            if (!currentVideo) return;
            
            const shareUrl = `https://www.youtube.com/watch?v=${currentVideo.id}`;
            
            if (navigator.share) {
                navigator.share({
                    title: currentVideo.title,
                    text: currentVideo.description,
                    url: shareUrl
                }).catch(err => {
                    console.log('Error sharing:', err);
                    showNotification('Paylaşım iptal edildi');
                });
            } else {
                // Fallback for browsers that don't support Web Share API
                navigator.clipboard.writeText(shareUrl).then(() => {
                    showNotification('Link kopyalandı!');
                }).catch(err => {
                    console.log('Could not copy text: ', err);
                    showNotification('Link kopyalanamadı');
                });
            }
        });
        
        channelDetails.addEventListener('click', () => {
            if (!currentVideo) return;
            
            // Filter videos by this channel
            const channelVideos = videos.filter(v => v.channel === currentVideo.channel);
            
            currentCategory = "all";
            searchQuery = "";
            searchInput.value = "";
            searchResults.style.display = "none";
            
            document.querySelectorAll('.category-chip').forEach(chip => chip.classList.remove('active'));
            document.querySelector('.category-chip[data-category="all"]').classList.add('active');
            
            hideVideo();
            renderVideos(channelVideos);
        });
        
        document.getElementById('uploadBtn').addEventListener('click', () => {
            uploadFormContainer.style.display = 'flex';
        });
        
        document.getElementById('closeUploadForm').addEventListener('click', () => {
            uploadFormContainer.style.display = 'none';
        });
        
        // Download App functionality
        downloadAppBtn.addEventListener('click', () => {
            downloadModal.style.display = 'flex';
        });
        
        closeDownload.addEventListener('click', () => {
            downloadModal.style.display = 'none';
        });
        
        uploadForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            const link = document.getElementById('videoLink').value;
            const title = document.getElementById('videoTitle').value;
            const description = document.getElementById('videoDescription').value;
            const category = document.getElementById('videoCategory').value;
            
            // Extract YouTube video ID
            const regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;
            const match = link.match(regExp);
            
            if (!match || match[2].length !== 11) {
                showNotification('Geçersiz YouTube linki!');
                return;
            }
            
            const videoId = match[2];
            
            showLoading();
            
            // Simulate processing
            setTimeout(() => {
                hideLoading();
                uploadFormContainer.style.display = 'none';
                uploadForm.reset();
                
                // In a real app, you would add the video to your database
                // For this demo, we'll just send an email
                sendVideoByEmail({
                    link: `https://www.youtube.com/watch?v=${videoId}`,
                    title: title,
                    description: description,
                    category: category
                });
                
                showNotification('Video paylaşım isteğiniz gönderildi! E-posta uygulamanız açılacak.');
            }, 1500);
        });
        
        // Category filter
        categoryChips.forEach(chip => {
            chip.addEventListener('click', () => {
                categoryChips.forEach(c => c.classList.remove('active'));
                chip.classList.add('active');
                currentCategory = chip.dataset.category;
                renderVideos();
            });
        });
        
        // Search functionality
        searchInput.addEventListener('input', () => {
            performSearch(searchInput.value);
        });
        
        searchIcon.addEventListener('click', () => {
            if (searchInput.value.trim()) {
                searchQuery = searchInput.value.toLowerCase();
                document.querySelector('.container').style.display = 'block';
                videoPlayerPage.style.display = 'none';
                youtubePlayer.src = '';
                renderVideos();
                searchResults.style.display = 'none';
            }
        });
        
        searchInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter' && searchInput.value.trim()) {
                searchQuery = searchInput.value.toLowerCase();
                document.querySelector('.container').style.display = 'block';
                videoPlayerPage.style.display = 'none';
                youtubePlayer.src = '';
                renderVideos();
                searchResults.style.display = 'none';
            }
        });
        
        document.addEventListener('click', (e) => {
            if (!searchInput.contains(e.target) && !searchResults.contains(e.target)) {
                searchResults.style.display = 'none';
            }
        });
        
        mobileSearchBtn.addEventListener('click', () => {
            if (window.innerWidth <= 768) {
                searchContainer.classList.toggle('active');
                if (searchContainer.classList.contains('active')) {
                    searchInput.focus();
                }
            } else {
                searchInput.focus();
            }
        });
        
        // Notifications
        document.getElementById('notificationsBtn').addEventListener('click', () => {
            showNotification('Yeni bildiriminiz yok');
        });
        
        // Logo click to go home
        document.querySelector('.logo').addEventListener('click', () => {
            hideVideo();
            currentCategory = "all";
            searchQuery = "";
            searchInput.value = "";
            
            document.querySelectorAll('.category-chip').forEach(chip => chip.classList.remove('active'));
            document.querySelector('.category-chip[data-category="all"]').classList.add('active');
            
            renderVideos();
        });
        
        // Initialize
        renderVideos();
        
        // Simulate new video notification for followed channels
        if (getFollowedChannels().length > 0 && Notification.permission === 'granted') {
            setTimeout(() => {
                new Notification('Mixyup', {
                    body: `${getFollowedChannels()[0]} kanalı yeni bir video yükledi!`
                });
            }, 10000);
        }
    </script>
</body>
</html>
